ğŸ“± Mobile Repair Shop ERP (åŸºäº Refine + Supabase)
è¿™æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„æ‰‹æœºç»´ä¿®åº—ç®¡ç†ç³»ç»Ÿï¼Œä¸“ä¸ºæå‡ç»´ä¿®ä¸šåŠ¡æ•ˆç‡è®¾è®¡ã€‚é¡¹ç›®é‡‡ç”¨ Refine (React æ¡†æ¶) æ„å»ºå‰ç«¯ï¼ŒSupabase (PostgreSQL) ä½œä¸ºåç«¯æœåŠ¡ï¼Œå®ç°äº†ä»å®¢æˆ·æ¥å¾…ã€ç»´ä¿®å¼€å•ã€åº“å­˜ç®¡ç†åˆ°è´¢åŠ¡æŠ¥è¡¨çš„å…¨æµç¨‹æ•°å­—åŒ–ç®¡ç†ã€‚

âœ¨ æ ¸å¿ƒäº®ç‚¹
æé€Ÿå¼€å•ä½“éªŒï¼šåˆ†æ­¥å¼å‘å¯¼ + æ¨¡æ€æ¡†ï¼ˆModalï¼‰å³æ—¶åˆ›å»ºæ•°æ®ï¼Œæ— éœ€è·³è½¬é¡µé¢å³å¯å½•å…¥æ–°å®¢æˆ·ã€æ–°æœºå‹æˆ–æ–°æ•…éšœã€‚

è‡ªåŠ¨åŒ–ä¾›åº”é“¾ï¼šç»´ä¿®å®Œæˆè‡ªåŠ¨æ‰£å‡åº“å­˜ã€è‡ªåŠ¨ç”Ÿæˆä¿ä¿®å•ã€è‡ªåŠ¨è®°å½•æµæ°´ã€‚

é«˜æ€§èƒ½ä»ªè¡¨ç›˜ï¼šåŸºäº SQL View å’Œ Recharts æ„å»ºçš„å®æ—¶æ•°æ®çœ‹æ¿ï¼Œæ¯«ç§’çº§åŠ è½½æµ·é‡ç»Ÿè®¡æ•°æ®ã€‚

ç°ä»£åŒ– UIï¼šåŸºäº Ant Design çš„å“åº”å¼è®¾è®¡ï¼ŒåŒ…å«å·¦ä¾§æ‚¬æµ®å¿«æ·æ“ä½œæ ï¼Œæ”¯æŒæ·±è‰²/æµ…è‰²æ¨¡å¼ï¼ˆå¯æ‰©å±•ï¼‰ã€‚

ğŸ›  æŠ€æœ¯æ ˆ
å‰ç«¯æ¡†æ¶: Refine (React, TypeScript)

UI ç»„ä»¶åº“: Ant Design

æ•°æ®å¯è§†åŒ–: Recharts

åç«¯/æ•°æ®åº“: Supabase (PostgreSQL)

æ—¥æœŸå¤„ç†: Day.js

çŠ¶æ€ç®¡ç†: React Query (Refine å†…ç½®)

ğŸš€ åŠŸèƒ½æ¨¡å—è¯¦è§£

1. ğŸ“Š ä»ªè¡¨ç›˜ (Dashboard)
   å…¨æ–¹ä½çš„ä¸šåŠ¡æŒ‡æŒ¥ä¸­å¿ƒï¼Œé€šè¿‡åç«¯ SQL View é¢„èšåˆæ•°æ®ï¼Œä¿éšœæ€§èƒ½ã€‚

KPI å¡ç‰‡: å¹´åº¦/æœˆåº¦æ”¶å…¥ã€ç»´ä¿®å•é‡ã€åº“å­˜æ€»èµ„äº§ï¼ˆåŒºåˆ†ç»´ä¿®é…ä»¶ä¸é›¶å”®å•†å“ï¼‰ã€å½“å‰ç§¯å‹å·¥å•ã€‚

æ•°æ®å¯è§†åŒ–:

è¥æ”¶è¶‹åŠ¿: åŒè½´æŠ˜çº¿å›¾ï¼ˆæ”¶å…¥ vs å•é‡ï¼‰ï¼Œæ”¯æŒæŸ¥çœ‹å†å²å¹´ä»½æ•°æ®ã€‚

çŠ¶æ€åˆ†å¸ƒ: ç”œç”œåœˆå›¾å±•ç¤ºè®¢å•çŠ¶æ€å æ¯”ã€‚

çƒ­é—¨æœºå‹: Top 5 ç»´ä¿®æœºå‹æ’è¡Œæ¦œï¼ˆå¸¦é‡‘é“¶é“œå¥–ç‰Œæ ·å¼ï¼‰ï¼Œæ”¯æŒæŸ¥çœ‹å®Œæ•´æ¦œå•ã€‚

å¿«æ·æ“ä½œæ‚¬æµ®çª—: å·¦ä¾§å¸¸é©»æ‚¬æµ®å…¥å£ï¼Œå¿«é€Ÿå‘èµ·å¼€å•ã€æ”¶é“¶ã€æŸ¥ä»¶ç­‰é«˜é¢‘æ“ä½œã€‚

äº¤äº’ä½“éªŒ: æ”¯æŒéª¨æ¶å± (Skeleton) åŠ è½½çŠ¶æ€ï¼Œé¿å…é¡µé¢é—ªçƒã€‚

2. ğŸ›  ç»´ä¿®è®¢å•ç®¡ç† (Repair Orders)
   ç³»ç»Ÿçš„æ ¸å¿ƒä¸šåŠ¡æµã€‚

æ–°å»ºè®¢å• (Create):

åˆ†æ­¥å‘å¯¼: å®¢æˆ·ä¿¡æ¯ -> è®¾å¤‡æ•…éšœ -> æŠ¥ä»·é…ä»¶ -> ä¿¡æ¯æ ¸å¯¹ã€‚

å³æ—¶åˆ›å»º: åœ¨ä¸‹æ‹‰é€‰å•ä¸­ç›´æ¥æ–°å»ºå®¢æˆ·ã€æœºå‹ã€æ•…éšœç±»å‹ï¼Œæ•°æ®å›å¡«æ— ç¼è¡”æ¥ã€‚

è‡ªåŠ¨ç®—ä»·: æ ¹æ®æ‰€é€‰é…ä»¶è‡ªåŠ¨è®¡ç®—æ€»ä»·ï¼Œæ”¯æŒæ‰‹åŠ¨è°ƒæ•´äººå·¥è´¹ã€‚

è®¢å•åˆ—è¡¨ (List):

Tab åˆ†ç»„: è‡ªåŠ¨åŒºåˆ†â€œè¿›è¡Œä¸­ (Active)â€å’Œâ€œå†å²è®°å½• (History)â€ã€‚

çŠ¶æ€æ ‡ç­¾: å½©è‰² Tag ç›´è§‚å±•ç¤ºç»´ä¿®è¿›åº¦ã€‚

è®¢å•ç¼–è¾‘ (Edit):

å…¨åŠŸèƒ½æ“ä½œå°ï¼Œæ”¯æŒä¿®æ”¹çŠ¶æ€ã€è¿½åŠ /ç§»é™¤é…ä»¶ã€ä¿®æ”¹è´¢åŠ¡ä¿¡æ¯ã€‚

é…ä»¶å˜æ›´æ—¶è‡ªåŠ¨é‡æ–°è®¡ç®—é¢„ä¼°æ€»ä»·ã€‚

ä¸šåŠ¡è‡ªåŠ¨åŒ– (Triggers):

çŠ¶æ€å˜æ›´ä¸º Completedï¼šè‡ªåŠ¨æ‰£å‡åº“å­˜ï¼ˆç”Ÿæˆ stock_entriesï¼‰ã€è‡ªåŠ¨ç”Ÿæˆä¿ä¿®å•ã€‚

çŠ¶æ€å˜æ›´ä¸º Cancelledï¼šè‡ªåŠ¨é‡Šæ”¾å·²é¢„é€‰çš„é…ä»¶ã€‚

3. ğŸ‘¥ å®¢æˆ·ç®¡ç† (CRM)
   å®¢æˆ·æ¡£æ¡ˆ: è®°å½•å®¢æˆ·åŸºæœ¬ä¿¡æ¯ã€‚

ç»´ä¿®å†å²: åœ¨å®¢æˆ·è¯¦æƒ…é¡µç›´æ¥å…³è”å±•ç¤ºè¯¥å®¢æˆ·æ‰€æœ‰çš„å†å²ç»´ä¿®è®°å½•ã€æ¶ˆè´¹é‡‘é¢åŠè®¾å¤‡ä¿¡æ¯ã€‚

4. ğŸ“¦ åº“å­˜ä¸ä¾›åº”é“¾ (Inventory)
   åŒè½¨åˆ¶åº“å­˜:

inventory_components: ç»´ä¿®ä¸“ç”¨é…ä»¶ï¼ˆå±å¹•ã€ç”µæ± ç­‰ï¼‰ï¼Œå…³è”æœºå‹ã€‚

inventory_items: é›¶å”®å•†å“ï¼ˆæ‰‹æœºå£³ã€æ•°æ®çº¿ç­‰ï¼‰ï¼Œç›´æ¥é”€å”®ã€‚

å‡ºå…¥åº“ç®¡ç†: é€šè¿‡ stock_entries è®°å½•æ‰€æœ‰åº“å­˜å˜åŠ¨ï¼ˆè¿›è´§ã€ç»´ä¿®æ¶ˆè€—ã€æŸè€—ã€ç›˜ç‚¹ï¼‰ï¼Œç¡®ä¿åº“å­˜æœ‰æ®å¯æŸ¥ã€‚

5. âš¡ï¸ æé€ŸæŠ¥ä»· (Quick Quote)
   å•æœç´¢æ¡†è®¾è®¡ï¼Œè¾“å…¥æœºå‹ï¼ˆå¦‚ "13 Pro"ï¼‰å³å¯å¿«é€ŸæŸ¥è¯¢æ‰€æœ‰å…¼å®¹é…ä»¶çš„ç»´ä¿®ä»·æ ¼ï¼ˆåŸè£…/å‰¯å‚ï¼‰åŠåº“å­˜çŠ¶æ€ã€‚

ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡ (Supabase)
é¡¹ç›®å¤§é‡åˆ©ç”¨ PostgreSQL çš„ç‰¹æ€§æ¥ä¿è¯æ•°æ®ä¸€è‡´æ€§å’Œæ€§èƒ½ã€‚

å…³é”®è¡¨ç»“æ„
repair_orders: ç»´ä¿®ä¸»è¡¨ã€‚

repair_order_parts: ç»´ä¿®è€—ææ˜ç»†ï¼ˆå…³è”è¡¨ï¼‰ã€‚

inventory_components / inventory_items: åº“å­˜è¡¨ã€‚

stock_entries / stock_entry_items: åº“å­˜æµæ°´è¡¨ã€‚

warranties: ä¿ä¿®å•è¡¨ã€‚

è‡ªåŠ¨åŒ–é€»è¾‘ (Database Functions & Triggers)
handle_repair_status_change: ç›‘å¬ç»´ä¿®å•çŠ¶æ€ã€‚

å®Œæˆæ—¶ -> æ’å…¥ warrantiesï¼Œæ’å…¥ stock_entries (Type: Repair)ã€‚

å–æ¶ˆæ—¶ -> æ¸…ç† repair_order_partsã€‚

update_inventory_from_entry: ç›‘å¬ stock_entry_itemsï¼Œè‡ªåŠ¨åŠ å‡åº“å­˜æ•°é‡ã€‚

check_and_expire_warranties: (pg_cron) æ¯æ—¥å®šæ—¶ä»»åŠ¡ï¼Œè‡ªåŠ¨æ ‡è®°è¿‡æœŸä¿ä¿®å•ã€‚

æ€§èƒ½ä¼˜åŒ– (SQL Views)
dashboard_yearly_stats: å¹´åº¦è¥æ”¶èšåˆã€‚

dashboard_monthly_stats: æœˆåº¦è¶‹åŠ¿èšåˆã€‚

dashboard_inventory_summary: åº“å­˜èµ„äº§åˆ†ç±»æ±‡æ€»ã€‚

dashboard_top_models: æœºå‹çƒ­åº¦ç»Ÿè®¡ã€‚

ğŸ å¼€å§‹ä½¿ç”¨ (Getting Started)

1. å…‹éš†é¡¹ç›®
   Bash
   git clone https://github.com/your-username/mobile-repair-erp.git
   cd mobile-repair-erp
2. å®‰è£…ä¾èµ–
   Bash
   npm install

# æˆ–è€…

yarn install 3. é…ç½®ç¯å¢ƒå˜é‡
åœ¨é¡¹ç›®æ ¹ç›®å½•åˆ›å»º .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„ Supabase é…ç½®ï¼š

ä»£ç æ®µ
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_KEY=your_supabase_anon_key 4. è¿è¡Œå¼€å‘ç¯å¢ƒ
Bash
npm run dev
è®¿é—® http://localhost:5173 å³å¯çœ‹åˆ°é¡¹ç›®ã€‚

ğŸ”® å¾…ä¼˜åŒ–/è·¯çº¿å›¾ (Roadmap)
[ ] å›½é™…åŒ– (i18n) å®Œå–„: ç›®å‰ä¸»è¦ä¸ºä¸­æ–‡/æ„å¤§åˆ©è¯­æ··åˆï¼Œè®¡åˆ’å®Œå…¨åˆ†ç¦»è¯­è¨€åŒ…ã€‚

[ ] æ‰“å°åŠŸèƒ½: ä¸ºç»´ä¿®å•å’Œæ”¶æ®æ·»åŠ  PDF æ‰“å°æ¨¡æ¿ã€‚

[ ] æƒé™æ§åˆ¶ (RBAC): åŒºåˆ†â€œåº—é•¿â€å’Œâ€œæŠ€å¸ˆâ€çš„æ“ä½œæƒé™ã€‚

[ ] æ¶ˆæ¯é€šçŸ¥: ç»´ä¿®å®Œæˆæ—¶é€šè¿‡ WhatsApp/SMS é€šçŸ¥å®¢æˆ·ã€‚

ğŸ“„ License
MIT
